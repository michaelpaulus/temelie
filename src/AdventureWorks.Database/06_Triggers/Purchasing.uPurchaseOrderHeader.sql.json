{
  "triggerName": "uPurchaseOrderHeader",
  "schemaName": "Purchasing",
  "definition": "CREATE TRIGGER [Purchasing].[uPurchaseOrderHeader]\n    ON [Purchasing].[PurchaseOrderHeader]\n    AFTER UPDATE\n    AS BEGIN\n           DECLARE @Count AS INT;\n           SET @Count = @@ROWCOUNT;\n           IF @Count = 0\n               RETURN;\n           SET NOCOUNT ON;\n           BEGIN TRY\n               IF NOT UPDATE ([Status])\n                   BEGIN\n                       UPDATE [Purchasing].[PurchaseOrderHeader]\n                       SET    [Purchasing].[PurchaseOrderHeader].[RevisionNumber] = [Purchasing].[PurchaseOrderHeader].[RevisionNumber] + 1 WHERE\n                                                                                                                                                 [Purchasing].[PurchaseOrderHeader].[PurchaseOrderID] IN (SELECT\n                                                                                                                                                                                                              inserted.[PurchaseOrderID]\n                                                                                                                                                                                                          FROM  \n                                                                                                                                                                                                              inserted);\n                   END\n           END TRY\n           BEGIN CATCH\n               EXECUTE [dbo].[uspPrintError] ;\n               IF @@TRANCOUNT > 0\n                   BEGIN\n                       ROLLBACK;\n                   END\n               EXECUTE [dbo].[uspLogError] ;\n           END CATCH\n       END",
  "tableName": "PurchaseOrderHeader"
}