{
  "triggerName": "iuPerson",
  "schemaName": "Person",
  "definition": "CREATE TRIGGER [Person].[iuPerson]\n    ON [Person].[Person]\n    AFTER INSERT, UPDATE\n    NOT FOR REPLICATION\n    AS BEGIN\n           DECLARE @Count AS INT;\n           SET @Count = @@ROWCOUNT;\n           IF @Count = 0\n               RETURN;\n           SET NOCOUNT ON;\n           IF UPDATE ([BusinessEntityID]) OR UPDATE ([Demographics])\n               BEGIN\n                   UPDATE [Person].[Person]\n                   SET    [Person].[Person].[Demographics] = N'<IndividualSurvey xmlns=\u0022http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\u0022> \n            <TotalPurchaseYTD>0.00</TotalPurchaseYTD> \n            </IndividualSurvey>'\n                   FROM  \n                       inserted WHERE\n                                     [Person].[Person].[BusinessEntityID] = inserted.[BusinessEntityID] AND inserted.[Demographics] IS NULL;\n                   UPDATE [Person].[Person]\n                   SET    [Demographics].modify(N'declare default element namespace \u0022http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\u0022; \n            insert <TotalPurchaseYTD>0.00</TotalPurchaseYTD> \n            as first \n            into (/IndividualSurvey)[1]')\n                   FROM  \n                       inserted WHERE\n                                     [Person].[Person].[BusinessEntityID] = inserted.[BusinessEntityID] AND inserted.[Demographics] IS NOT NULL AND inserted.[Demographics].exist(N'declare default element namespace \n                \u0022http://schemas.microsoft.com/sqlserver/2004/07/adventure-works/IndividualSurvey\u0022; \n                /IndividualSurvey/TotalPurchaseYTD') <> 1;\n               END\n       END",
  "tableName": "Person"
}