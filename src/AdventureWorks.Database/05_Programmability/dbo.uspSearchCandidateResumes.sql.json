{
  "definitionName": "uspSearchCandidateResumes",
  "schemaName": "dbo",
  "definition": "CREATE PROCEDURE [dbo].[uspSearchCandidateResumes]\n@searchString NVARCHAR (1000), @useInflectional BIT=0, @useThesaurus BIT=0, @language INT=0\nWITH EXECUTE AS CALLER\nAS\nBEGIN\n    SET NOCOUNT ON;\n    DECLARE @string AS NVARCHAR (1050);\n    IF @language = NULL OR @language = 0\n        BEGIN\n            SELECT\n                @language = CONVERT (INT, serverproperty('lcid'));\n        END\n    IF @useThesaurus = 1 AND @useInflectional = 1\n        BEGIN\n            SELECT\n                FT_TBL.[JobCandidateID],\n                KEY_TBL.[RANK]\n            FROM  \n                [HumanResources].[JobCandidate] AS FT_TBL INNER JOIN\n                FREETEXTTABLE ([HumanResources].[JobCandidate], *, @searchString, LANGUAGE @language) AS KEY_TBL ON\n                     FT_TBL.[JobCandidateID] = KEY_TBL.[KEY];\n        END\n    ELSE\n        IF @useThesaurus = 1\n            BEGIN\n                SELECT\n                    @string = 'FORMSOF(THESAURUS,\u0022' + @searchString + '\u0022' + ')';\n                SELECT\n                    FT_TBL.[JobCandidateID],\n                    KEY_TBL.[RANK]\n                FROM  \n                    [HumanResources].[JobCandidate] AS FT_TBL INNER JOIN\n                    CONTAINSTABLE ([HumanResources].[JobCandidate], *, @string, LANGUAGE @language) AS KEY_TBL ON\n                         FT_TBL.[JobCandidateID] = KEY_TBL.[KEY];\n            END\n        ELSE\n            IF @useInflectional = 1\n                BEGIN\n                    SELECT\n                        @string = 'FORMSOF(INFLECTIONAL,\u0022' + @searchString + '\u0022' + ')';\n                    SELECT\n                        FT_TBL.[JobCandidateID],\n                        KEY_TBL.[RANK]\n                    FROM  \n                        [HumanResources].[JobCandidate] AS FT_TBL INNER JOIN\n                        CONTAINSTABLE ([HumanResources].[JobCandidate], *, @string, LANGUAGE @language) AS KEY_TBL ON\n                             FT_TBL.[JobCandidateID] = KEY_TBL.[KEY];\n                END\n            ELSE\n                BEGIN\n                    SELECT\n                        @string = '\u0022' + @searchString + '\u0022';\n                    SELECT\n                        FT_TBL.[JobCandidateID],\n                        KEY_TBL.[RANK]\n                    FROM  \n                        [HumanResources].[JobCandidate] AS FT_TBL INNER JOIN\n                        CONTAINSTABLE ([HumanResources].[JobCandidate], *, @string, LANGUAGE @language) AS KEY_TBL ON\n                             FT_TBL.[JobCandidateID] = KEY_TBL.[KEY];\n                END\nEND",
  "xType": "P",
  "type": "PROCEDURE"
}