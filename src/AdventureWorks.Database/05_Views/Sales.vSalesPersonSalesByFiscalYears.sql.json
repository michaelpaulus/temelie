{
  "definitionName": "vSalesPersonSalesByFiscalYears",
  "schemaName": "Sales",
  "definition": "\r\nCREATE VIEW [Sales].[vSalesPersonSalesByFiscalYears] \r\nAS \r\nSELECT \r\n    pvt.[SalesPersonID]\r\n    ,pvt.[FullName]\r\n    ,pvt.[JobTitle]\r\n    ,pvt.[SalesTerritory]\r\n    ,pvt.[2002]\r\n    ,pvt.[2003]\r\n    ,pvt.[2004] \r\nFROM (SELECT \r\n        soh.[SalesPersonID]\r\n        ,p.[FirstName] + ' ' + COALESCE(p.[MiddleName], '') + ' ' + p.[LastName] AS [FullName]\r\n        ,e.[JobTitle]\r\n        ,st.[Name] AS [SalesTerritory]\r\n        ,soh.[SubTotal]\r\n        ,YEAR(DATEADD(m, 6, soh.[OrderDate])) AS [FiscalYear] \r\n    FROM [Sales].[SalesPerson] sp \r\n        INNER JOIN [Sales].[SalesOrderHeader] soh \r\n        ON sp.[BusinessEntityID] = soh.[SalesPersonID]\r\n        INNER JOIN [Sales].[SalesTerritory] st \r\n        ON sp.[TerritoryID] = st.[TerritoryID] \r\n        INNER JOIN [HumanResources].[Employee] e \r\n        ON soh.[SalesPersonID] = e.[BusinessEntityID] \r\n\t\tINNER JOIN [Person].[Person] p\r\n\t\tON p.[BusinessEntityID] = sp.[BusinessEntityID]\r\n\t ) AS soh \r\nPIVOT \r\n(\r\n    SUM([SubTotal]) \r\n    FOR [FiscalYear] \r\n    IN ([2002], [2003], [2004])\r\n) AS pvt;\r\n",
  "xType": "V",
  "type": "VIEW",
  "view": {
    "tableName": "vSalesPersonSalesByFiscalYears",
    "schemaName": "Sales",
    "temporalType": 0,
    "isMemoryOptimized": false,
    "isExternal": false,
    "isHistoryTable": false,
    "isView": true,
    "columns": [
      {
        "schemaName": "Sales",
        "columnName": "SalesPersonID",
        "columnID": 1,
        "isPrimaryKey": false,
        "precision": 10,
        "scale": 0,
        "isNullable": true,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "INT",
        "dbType": 11,
        "extendedProperties": {},
        "fullColumnType": "INT"
      },
      {
        "schemaName": "Sales",
        "columnName": "FullName",
        "columnID": 2,
        "isPrimaryKey": false,
        "precision": 152,
        "scale": 0,
        "isNullable": true,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "NVARCHAR",
        "dbType": 16,
        "extendedProperties": {},
        "fullColumnType": "NVARCHAR(152)"
      },
      {
        "schemaName": "Sales",
        "columnName": "JobTitle",
        "columnID": 3,
        "isPrimaryKey": false,
        "precision": 50,
        "scale": 0,
        "isNullable": false,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "NVARCHAR",
        "dbType": 16,
        "extendedProperties": {},
        "fullColumnType": "NVARCHAR(50)"
      },
      {
        "schemaName": "Sales",
        "columnName": "SalesTerritory",
        "columnID": 4,
        "isPrimaryKey": false,
        "precision": 100,
        "scale": 0,
        "isNullable": false,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "NAME",
        "dbType": 16,
        "extendedProperties": {},
        "fullColumnType": "NAME"
      },
      {
        "schemaName": "Sales",
        "columnName": "2002",
        "columnID": 5,
        "isPrimaryKey": false,
        "precision": 19,
        "scale": 4,
        "isNullable": true,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "MONEY",
        "dbType": 16,
        "extendedProperties": {},
        "fullColumnType": "MONEY"
      },
      {
        "schemaName": "Sales",
        "columnName": "2003",
        "columnID": 6,
        "isPrimaryKey": false,
        "precision": 19,
        "scale": 4,
        "isNullable": true,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "MONEY",
        "dbType": 16,
        "extendedProperties": {},
        "fullColumnType": "MONEY"
      },
      {
        "schemaName": "Sales",
        "columnName": "2004",
        "columnID": 7,
        "isPrimaryKey": false,
        "precision": 19,
        "scale": 4,
        "isNullable": true,
        "isIdentity": false,
        "isComputed": false,
        "isHidden": false,
        "generatedAlwaysType": 0,
        "columnType": "MONEY",
        "dbType": 16,
        "extendedProperties": {},
        "fullColumnType": "MONEY"
      }
    ],
    "extendedProperties": {
      "mS_Description": "Uses PIVOT to return aggregated sales information for each sales representative."
    }
  }
}